<template>
    <div class="controls">
      <div class="container controls__container">
        <div class="controls__container--large">
          <h1 class="controls__logo">eduBoard</h1>
          <button class="controls__menu-button">
            <span></span>
            <span></span>
            <span></span>
          </button>

          <nav class="controls__navigation">
            <ul>
              <router-link v-if="$store.state.user.email"
              tag="li" class="controls__navigation__item"
              to="/dashboard">Dashboard</router-link>
              <router-link tag="li"
              class="controls__navigation__item"
              to="/landing">News</router-link>
              <router-link v-if="$store.state.user.email"
              tag="li" class="controls__navigation__item"
              to="/search">Kurssuche</router-link>
              <router-link tag="li" class="controls__navigation__item"
              to="/imprint">Imprint</router-link>
            </ul>
          </nav>
        </div>

        <div class="container controls__container--small">
          <div v-if="$store.state.user.email" class="controls__user">
            <span class="controls__user__name">
            {{$store.state.user.name + ' ' + $store.state.user.surname}}</span>
            <div class="controls__user__image">
            {{$store.state.user.name.slice(0,1) +
            $store.state.user.surname.slice(0,1)}}</div>
          </div>

          <nav class="controls__navigation">
            <ul>
              <router-link v-if="$store.state.user.role === 'teacher'" tag="li"
              class="controls__navigation__item"
              to="/course-management">Kursverwaltung</router-link>
              <router-link v-if="$store.state.user.role === 'admin'" tag="li"
              class="controls__navigation__item"
              to="/user-management">Nutzerverwaltung</router-link>
              <router-link v-if="$store.state.user.email"
              tag="li" class="controls__navigation__item"
              to="/profile">Profil</router-link>
              <li v-if="$store.state.user.email" class="controls__navigation__item"
              @click="logout()">Logout</li>
              <router-link v-if="!$store.state.user.email"
              tag="li" class="controls__navigation__item"
              to="/login">Login</router-link>
              <router-link v-if="!$store.state.user.email"
              tag="li" class="controls__navigation__item"
              to="/register">Register</router-link>
            </ul>
          </nav>
        </div>
      </div>
    </div>
</template>

<script>

export default {
  name: 'navbar',
  props: {},
  methods: {
    logout() {
      this.$api.logout();
    }
  },
};
</script>

<style></style>
